<?xml version="1.0" encoding="UTF-8"?><database>
    <element db_object_id="7138d8078314e210a6b1ffd6feaad360" label="Path" max_length="40" name="x_1588110_mock_s_0_path" type="collection">
        <element label="Name" mandatory="true" max_length="40" name="name" type="string"/>
        <element label="Description" max_length="4000" name="description" type="string"/>
        <element attributes="ignore_filter_on_new=true" default="javascript:global.getNextObjNumberPadded();" label="Number" max_length="40" name="number" type="string"/>
        <element attributes="max_unit=hours" calculation="(function calculatedFieldValue(current) {&#13;&#10;&#9;var totalDuration = 0;&#13;&#10;&#13;&#10;&#9;// Realize a consulta nos registros relacionados&#13;&#10;&#9;var gr = new GlideRecord('x_1588110_mock_s_0_course');&#13;&#10;&#9;gr.addQuery('path', current.sys_id);&#13;&#10;&#9;gr.query();&#13;&#10;&#13;&#10;&#9;// Agregue as durações&#13;&#10;&#9;while (gr.next()) {&#13;&#10;&#9;&#9;if (gr.duration) {&#13;&#10;&#9;&#9;&#9;var durGr = gr.duration.dateNumericValue();&#13;&#10;&#9;&#9;&#9;gs.info(gr.training + ' dur.dateNumericValue() ' + durGr);&#13;&#10;&#9;&#9;&#9;totalDuration += durGr;&#13;&#10;&#9;&#9;}&#13;&#10;&#9;}&#13;&#10;&#13;&#10;&#9;return totalDuration || 0;&#13;&#10;&#13;&#10;&#9;// var coursesGr = new GlideRecord('x_1588110_mock_s_0_course');&#13;&#10;&#9;// coursesGr.addActiveQuery();&#13;&#10;&#9;// coursesGr.addQuery('path', current.sys_id);&#13;&#10;&#9;// coursesGr.query();&#13;&#10;&#9;&#13;&#10;&#9;&#13;&#10;&#9;// while(coursesGr.next()){&#13;&#10;&#9;// &#9;var dur = new GlideDuration(coursesGr.duration);&#13;&#10;&#9;// &#9;totalHour.add(dur.getDurationValue());&#13;&#10;&#9;// &#9;gs.info('duration do curso '+ dur + ' duration value ' + dur.getDurationValue() + ' total hour '+ totalHour);&#13;&#10;&#9;&#9;&#13;&#10;&#9;// }&#13;&#10;&#9;// var answer = totalHour.toString();&#13;&#10;&#13;&#10;&#9;// return answer;  &#13;&#10;&#13;&#10;})(current);" label="Duration" max_length="40" name="duration" read_only="true" type="glide_duration"/>
    </element>
</database>
