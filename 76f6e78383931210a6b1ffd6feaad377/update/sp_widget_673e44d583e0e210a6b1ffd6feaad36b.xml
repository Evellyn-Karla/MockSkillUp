<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="INSERT_OR_UPDATE">
        <category>custom</category>
        <client_script><![CDATA[api.controller=function($location) {
	var c = this;


	c.clickHandler = function(sys_id) {
		if (sys_id) {
			// Redireciona para a página do registro do produtor
			$location.url('/edx?id=emp_taxonomy_topic&topic_id=' + sys_id);
		}
	};



};]]></client_script>
        <controller_as>c</controller_as>
        <css>
.container{
  width: 100%;
  padding:2rem;
	border-radius: 1rem;
}

.tile-top h2{
  color: $brand-primary;
  font-family: 'Spectral';
}

.list{
  display: flex;
  width: 100%;
  padding-left: 1rem;
  border-radius: 2rem;
  gap: 2rem;
}


.card {
  width: 16rem;
  height: 16rem;
  border-radius: 0.5rem;
  padding: 0.2rem;
  background-color: $navbar-inverse-link-color;
  //box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid lighten($navbar-inverse-bg, 10%);
  margin-top: 1rem;

  display:flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}


.card a {
  text-decoration: none
}

.content {
  padding: 1.1rem;
}

.image {
  width: 100%;
  height: 56px;
  background-size: contain; /* Cobrir o espaço sem distorcer */
  background-position: center; /* Centralizar a imagem */
  background-repeat: no-repeat; /* Evitar repetição */
  //background-color: #cbc7f2; /* Cor de fundo caso a imagem não carregue */
  padding: 1rem;
}

.title {
  color: #111827;
  font-size: 2rem;
  line-height: 1.75rem;
  font-weight: 400;
}

.desc {
  margin-top: 0.5rem;
  color: #6B7280;
  font-size: 1.50rem;
  line-height: 1.50rem;
}

.action {
  display: inline-flex;
  margin-top: 1rem;
  color: #ffffff;
  font-size: 0.875rem;
  line-height: 1.25rem;
  font-weight: 500;
  align-items: center;
  gap: 0.25rem;
  background-color: #2563EB;
  padding: 4px 8px;
  border-radius: 4px;
}

.action span {
  transition: .3s ease;
}

.card:hover {
  transform: scale(1.01);
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data/>
        <description/>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id>edx_services</id>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>EDX Services</name>
        <option_schema>[{"name":"title","section":"Presentation","default_value":"Services","label":"Title","type":"string"}]</option_schema>
        <public>false</public>
        <roles/>
        <script><![CDATA[(function() {
	/* populate the 'data' object */
	/* e.g., data.table = $sp.getValue('table'); */

	data.title = options.title;
	data.background = options.background;
	data.topics = [];
	
	
	var taxonomy = $sp.getTaxonomies();
	if (!taxonomy || taxonomy.length === 0) {
		return;
	}

	var topicsGr = new GlideRecord('topic');
	topicsGr.addQuery('taxonomy', taxonomy);
	topicsGr.query();

	while(topicsGr.next()){
		var topicData = {};

		topicData.sys_id = topicsGr.getUniqueValue();
		topicData.icon = '/sys_attachment.do?sys_id=' + topicsGr.getValue('icon');
		topicData.name = topicsGr.getDisplayValue('name');

		data.topics.push(topicData);
	}

	//console.log('data topics' + JSON.stringify(data.topics));

	/*var sys_ids = options.producers ? options.producers.split(',') : []; // Divide em uma lista
	data.producers = [];

	sys_ids.forEach(function(sys_id) {
		var item = $sp.getCatalogItem(sys_id.trim());
		if (item) {
			if (item.icon) {
				item.icon = item.icon.replace('.iix', '');
				item.icon = '/sys_attachment.do?sys_id=' + item.icon;
			} data.producers.push(item);
		}
	});*/

})();
]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-03-26 15:36:00</sys_created_on>
        <sys_id>673e44d583e0e210a6b1ffd6feaad36b</sys_id>
        <sys_mod_count>98</sys_mod_count>
        <sys_name>EDX Services</sys_name>
        <sys_package display_value="Mock SkillUp" source="x_1588110_mock_s_0">76f6e78383931210a6b1ffd6feaad377</sys_package>
        <sys_policy/>
        <sys_scope display_value="Mock SkillUp">76f6e78383931210a6b1ffd6feaad377</sys_scope>
        <sys_update_name>sp_widget_673e44d583e0e210a6b1ffd6feaad36b</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-03-27 17:27:02</sys_updated_on>
        <template><![CDATA[<div class="container">
  <div class="tile-top">
    <h2>{{data.title}}</h2>
  </div>
  <ul class="list">
    <div class="card"
         ng-if="data.topics"
         ng-repeat="item in data.topics"
         ng-click="c.clickHandler(item.sys_id)">
      <div class="image"
           style="background-image: url('{{item.icon}}');"
           ng-style="{'background-image': 'url(\'' + item.icon + '\')'}">
      </div>
      <div class="content">
        <span class="title">{{item.name}}</span>
      </div>
    </div>
  </ul>
</div>]]></template>
    </sp_widget>
    <sys_es_latest_script action="INSERT_OR_UPDATE">
        <id>673e44d583e0e210a6b1ffd6feaad36b</id>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-03-26 15:40:12</sys_created_on>
        <sys_id>343f04d583e0e210a6b1ffd6feaad336</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-03-26 15:40:12</sys_updated_on>
        <table>sp_widget</table>
        <use_es_latest>true</use_es_latest>
    </sys_es_latest_script>
</record_update>
